{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "84fcd5af-fa49-46da-bdd8-5d57d2942b53",
   "metadata": {},
   "source": [
    "# 5. El 'TAREAS/pdcs/datos/job_filter_operativo.stat' contiene resultados de la evaluación estadística de las salidas entre el modelo y mediciones, incluye variables meteorológicas y químicas. Mediante un script comparar los resultados del modelo WRF (columna 32) con de las observaciones SIMAT (columna 33) usando los valores máximo y promedio para las variables de temperatura (TMP - convertir de K a grados Celsius), y para el ozono (OZCON) usando las filas de tipo MPR  (Matching PaiRs columna 24) _En la respuesta incluir el código_  (2 pt)\n",
    "***\n",
    "WRF  vs SIMAT\n",
    "\n",
    "El promedio de la temperatura del modelo WRF es: 19.9417 ºC\n",
    "\n",
    "El promedio de la temperatura del modelo SIMAT  es: 20.7081 ºC\n",
    "\n",
    "El promedio de concentración de ozono en el modelo WRF es de: 38.2991 ppm\n",
    "\n",
    "El promedio de concentración de ozono en el modelo SIMAT es de: 46.094 ppm\n",
    "\n",
    "El valor maximo de temperatura en el modelo WRF es: 27.9153 ºC\n",
    "\n",
    "El valor maximo de temperarura en el modelo SIMAT es: 32.65 ºC\n",
    "\n",
    "El valor maximo de concentración de ozono en el modelo WRF es: 97.52658 ppm\n",
    "\n",
    "El valor maximo de concentración de ozono en el modelo SIMAT es: 133 ppm\n",
    "***\n",
    "A continuación se presenta el script usado ubicado en 'TAREAS/LINA/Evaluación/modelos'\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "882a7072-3491-414e-9875-6bf5e9a591f3",
   "metadata": {},
   "source": [
    "#!/bin/bash\n",
    "\n",
    ">Comparar los resultados del modelo WRF (32) vs. SIMAT (33)\n",
    "#Debemos comparar la temperatura y el ozono. De los resultados mpr.\n",
    "#Se comparan los valores maximos de cada modelo asi como el promedio de las dos variables (temp y ozcon)\n",
    "\n",
    "\t\t#PARA OBTENER LOS PROMEDIOS DE TEMP:\n",
    "\n",
    ">Con el comando grep hacemos un filtrado de aquellos renglones que tengan valores para la temperatura y aquellos que estn en el renglon mpr para pasarlos posteriormente por un awk en donde llevaremos a cabo la suma de estos valores, y con el comando num++ se guarda en esa variable num la cantidad de datos para poder imprimir el promedio resuñtante de la operacion suma/num. a esto se le restan los 273.15 para convertir a ºC.\n",
    "\n",
    ">Para el WRF:\n",
    "\n",
    "grep -w -i tmp ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR | awk -F \" \" '{suma +=$32; num++}; END{print \"\\n\" \"El promedio de la temperatura del modelo WRF es: \" ((suma/num)-273.15) \" ºC\"}' \n",
    "\n",
    ">Para el SIMAT:\n",
    "\n",
    "grep -w -i tmp ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR | awk -F \" \" '{suma +=$33; num++}; END{print \"\\n\" \"El promedio de la temperatura del modelo SIMAT  es: \" ((suma/num)-273.15) \" ºC\"}' \n",
    "\n",
    "\n",
    "\t\t#PARA OBTENER LOS PROMEDIO DE CONC, DEL OZONO:\n",
    ">WRF:\n",
    "\n",
    "grep -w -i ozcon ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR | awk -F \" \" '{suma +=$32; num++}; END{print \"\\n\" \"El promedio de concentración de ozono en el modelo WRF es de: \" (suma/num) \" ppm\"}'\n",
    "\n",
    ">SIMAT:\n",
    "\n",
    "grep -w -i ozcon ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR | awk -F \" \" '{suma +=$33; num++}; END{print \"\\n\" \"El promedio de concentración de ozono en el modelo SIMAT es de: \"(suma/num) \" ppm\"}'\n",
    "\n",
    "\n",
    "\t\t#PARA OBTENER EL MAXIMO DE TEMPERATURA EN ºC:\n",
    ">WRF:\n",
    "\n",
    "max=$(grep -w -i tmp ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR| awk -F \" \" '{print $32-273.15}' | sort -g | tail -1) \n",
    "\n",
    "echo \"\"\n",
    "\n",
    "echo \"El valor maximo de temperatura en el modelo WRF es: $max ºC\"\n",
    "\n",
    ">SIMAT\n",
    "\n",
    "max=$(grep -w -i tmp ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR| awk -F \" \" '{print $33-273.15}' | sort -g | tail -1)\n",
    "\n",
    "echo \"\"\n",
    "\n",
    "echo \"El valor maximo de temperarura en el modelo SIMAT es: $max ºC\"\n",
    "\n",
    "\t\t#PARA OBTENER EL MAXIMO DE OZONO:\n",
    ">con los comandos anteriores, para tener la lista de numeros, ocupamos sort para acomodar los numeros de menor a mayor, uno en cada linea y con el comando tail -1 tomamos el ultimo valor, que sería el maximo valor de esta lista.\n",
    "\n",
    ">WRF:\n",
    "\n",
    "max=$(grep -w -i ozcon ../../pdcs/datos/job_filter_operativo.stat | grep -w MPR | awk -F \" \" '{print $32}' | sort -g | tail -1)\n",
    "\n",
    "echo \"\"\n",
    "\n",
    "echo \"El valor maximo de concentración de ozono en el modelo WRF es: $max ppm\"\n",
    "\n",
    ">SIMAT:\n",
    "\n",
    "max=$(grep -w -i ozcon ../../pdcs/datos/job_filter_operativo.stat |grep -w MPR |  awk -F \" \" '{print $33}' | sort -g | tail -1)\n",
    "\n",
    "echo \"\"\n",
    "\n",
    "echo \"El valor maximo de concentración de ozono en el modelo SIMAT es: $max ppm\"\n",
    "\n",
    "echo \"\"\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "daad0b4d-76b6-46ad-a809-9ed6c342f4bd",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
